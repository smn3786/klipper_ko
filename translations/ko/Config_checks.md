# 설정 확인

이 문서는 Klipper printer.cfg 파일의 핀
설정을 확인하는 데 도움이 되는 단계 목록을 제공합니다.
[설치 문서](Installation.md)의 단계를 따른 후 이러한
단계를 수행하는 것이 좋습니다.

이 가이드 중에 Klipper 설정 파일을 변경해야 할 수 있습니다.
설정 파일을 변경할 때마다 변경사항이 적용되도록 RESTART 명령을
실행해야 합니다(Octoprint 터미널 탭에서 "restart"를 입력한 다음
"Send"를 클릭). 설정 파일이 성공적으로 로드되었는지
확인하기 위해 모든 RESTART 후에 STATUS 명령을 실행하는 것도 좋습니다.

## 온도 확인

온도가 제대로 보고되는지 확인하는 것부터 시작하세요.
사용자 인터페이스의 온도 그래프 섹션으로 이동합니다.
노즐 및 베드(해당하는 경우)의 온도가
있고 증가하지 않는지 확인합니다. 증가하는 경우 프린터의
전원을 제거합니다. 온도가 정확하지 않은 경우
노즐 및/또는 베드의 "sensor_type" 및 "sensor_pin" 설정을
검토합니다.

## M112 확인

명령 콘솔로 이동하여 터미널 상자에서 M112
명령을 실행합니다. 이 명령은 Klipper에
"shutdown" 상태로 들어가도록 요청합니다. 오류가 표시되며,
명령 콘솔에서 FIRMWARE_RESTART 명령으로
지울 수 있습니다. Octoprint도 재연결이 필요합니다. 그런 다음
온도 그래프 섹션으로 이동하여 온도가 계속
업데이트되고 온도가 증가하지 않는지 확인합니다.
온도가 증가하는 경우 프린터의 전원을 제거합니다.

## 히터 확인

온도 그래프 섹션으로 이동하여 익스트루더/도구 온도 상자에
50을 입력한 다음 엔터를 누릅니다.
그래프의 익스트루더 온도가 증가하기 시작해야 합니다
(약 30초 정도 이내). 그런 다음 익스트루더 온도
드롭다운 상자로 이동하여 "Off"를 선택합니다. 몇 분 후 온도는
초기 실온 값으로 돌아가기 시작해야 합니다. 온도가
증가하지 않으면 설정에서 "heater_pin" 설정을
확인합니다.

프린터에 가열 베드가 있는 경우 위 테스트를 베드로
다시 수행합니다.

## 스테퍼 모터 활성화 핀 확인

모든 프린터 축이 수동으로 자유롭게 이동할 수 있는지 확인합니다(스테퍼
모터가 비활성화됨). 그렇지 않으면 M84 명령을 실행하여
모터를 비활성화합니다. 축 중 하나라도 여전히 자유롭게 이동할 수 없는 경우,
해당 축의 스테퍼 "enable_pin" 구성을 확인합니다. 대부분의
일반 스테퍼 모터 드라이버에서 모터 활성화 핀은 "active low"이므로
활성화 핀 앞에 "!"가 있어야 합니다(예:
"enable_pin: !PA1").

## 엔드스톱 확인

프린터의 모든 축을 수동으로 이동하여 엔드스톱과 접촉하지 않도록 합니다.
명령 콘솔을 통해 QUERY_ENDSTOPS 명령을 보냅니다.
구성된 모든 엔드스톱의 현재 상태로 응답해야 하며
모두 "open" 상태를 보고해야 합니다. 각 엔드스톱에 대해
엔드스톱을 수동으로 트리거하면서 QUERY_ENDSTOPS 명령을 다시 실행합니다.
QUERY_ENDSTOPS 명령은 엔드스톱을 "TRIGGERED"로 보고해야 합니다.

엔드스톱이 반전된 것으로 보이는 경우(트리거되었을 때 "open"을 보고하고
그 반대의 경우) 핀 정의에 "!"를 추가하거나(예:
"endstop_pin: ^!PA2"), 이미 있는 경우 "!"를 제거합니다.

엔드스톱이 전혀 변경되지 않으면 일반적으로
엔드스톱이 다른 핀에 연결되어 있음을 나타냅니다. 그러나
핀의 풀업 설정 변경이 필요할 수도 있습니다(endstop_pin 이름의
시작 부분에 있는 '^' - 대부분의 프린터는 풀업
저항을 사용하며 '^'가 있어야 함).

## 스테퍼 모터 확인

STEPPER_BUZZ 명령을 사용하여 각
스테퍼 모터의 연결을 확인합니다. 먼저 해당 축을 수동으로
중간 지점으로 배치한 다음 명령 콘솔에서 `STEPPER_BUZZ STEPPER=stepper_x`를
실행합니다. STEPPER_BUZZ 명령은 해당
스테퍼를 양의 방향으로 1밀리미터 이동시킨 다음
시작 위치로 돌아갑니다. (엔드스톱이
position_endstop=0으로 정의된 경우 각 이동 시작 시 스테퍼가
엔드스톱에서 멀어집니다.) 이 진동을
10회 수행합니다.

스테퍼가 전혀 이동하지 않으면 스테퍼의 "enable_pin" 및
"step_pin" 설정을 확인합니다. 스테퍼 모터가
이동하지만 원래 위치로 돌아가지 않으면 "dir_pin"
설정을 확인합니다. 스테퍼 모터가 잘못된 방향으로 진동하는 경우
일반적으로 축의 "dir_pin"을
반전해야 함을 나타냅니다. 프린터 설정 파일의 "dir_pin"에 '!'를
추가하거나(이미 있는 경우 제거) 수행합니다. 모터가
1밀리미터보다 훨씬 많이 또는 훨씬 적게 이동하는 경우
"rotation_distance" 설정을 확인합니다.

설정 파일에 정의된 각 스테퍼 모터에 대해 위 테스트를
실행합니다. (STEPPER_BUZZ 명령의 STEPPER 매개변수를
테스트할 설정 섹션 이름으로 설정합니다.) 익스트루더에
필라멘트가 없는 경우 STEPPER_BUZZ를 사용하여
익스트루더 모터 연결을 확인할 수 있습니다(STEPPER=extruder 사용). 그렇지 않으면
익스트루더 모터를 별도로 테스트하는 것이 가장 좋습니다(다음 섹션 참조).

모든 엔드스톱을 확인하고 모든 스테퍼 모터를 확인한 후
호밍 메커니즘을 테스트해야 합니다. G28 명령을 실행하여 모든
축을 홈으로 이동합니다. 제대로 홈으로 이동하지 않으면 프린터의 전원을 제거합니다.
필요한 경우 엔드스톱 및 스테퍼 모터 확인 단계를 다시 실행합니다.

## 익스트루더 모터 확인

익스트루더 모터를 테스트하려면 익스트루더를
프린팅 온도로 가열해야 합니다. 온도 그래프 섹션으로 이동하여
온도 드롭다운 상자에서 목표 온도를 선택하거나
수동으로 적절한 온도를 입력합니다. 프린터가
원하는 온도에 도달할 때까지 기다립니다. 그런 다음 명령 콘솔로 이동하여
"Extrude" 버튼을 클릭합니다. 익스트루더 모터가
올바른 방향으로 회전하는지 확인합니다. 그렇지 않으면 이전 섹션의
문제 해결 팁을 참조하여 익스트루더의
"enable_pin", "step_pin" 및 "dir_pin" 설정을 확인합니다.

## PID 설정 캘리브레이션

Klipper는 익스트루더 및 베드 히터에 대한
[PID 제어](https://en.wikipedia.org/wiki/PID_controller)를 지원합니다. 이
제어 메커니즘을 사용하려면 각 프린터에서 PID 설정을
캘리브레이션해야 합니다(다른 펌웨어 또는 예제 설정 파일에서 발견된 PID 설정은
종종 잘 작동하지 않습니다).

익스트루더를 캘리브레이션하려면 명령 콘솔로 이동하여
PID_CALIBRATE 명령을 실행합니다. 예: `PID_CALIBRATE
HEATER=extruder TARGET=170`

튜닝 테스트가 완료되면 `SAVE_CONFIG`를 실행하여
새 PID 설정으로 printer.cfg 파일을 업데이트합니다.

프린터에 가열 베드가 있고 PWM
(펄스 폭 변조)으로 구동되는 것을 지원하는 경우
베드에 PID 제어를 사용하는 것이 권장됩니다. (베드 히터가 PID 알고리즘을 사용하여 제어되는 경우
초당 10회 켜고 꺼질 수 있으며, 이는 기계식 스위치를
사용하는 히터에는 적합하지 않을 수 있습니다.) 일반적인 베드 PID 캘리브레이션
명령은 다음과 같습니다: `PID_CALIBRATE HEATER=heater_bed TARGET=60`

## 다음 단계

이 가이드는 Klipper 설정 파일의 핀 설정에 대한 기본 확인을
돕기 위한 것입니다. [베드 레벨링](Bed_Level.md)
가이드를 읽어보세요. 또한 Klipper와 함께 슬라이서를 구성하는
정보는 [슬라이서](Slicers.md) 문서를 참조하세요.

기본 프린팅이 작동하는지 확인한 후
[압력 전진](Pressure_Advance.md) 캘리브레이션을 고려하는 것이 좋습니다.

다른 유형의 세부 프린터
캘리브레이션을 수행해야 할 수 있습니다 - 이를 돕는 많은 가이드가
온라인에서 사용 가능합니다(예: "3d printer calibration"을 웹 검색).
예를 들어 링잉이라는 효과를 경험하는 경우
[공진 보상](Resonance_Compensation.md)
튜닝 가이드를 따라보세요.
